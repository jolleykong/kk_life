# 在线基于逻辑备份

- mysqldump & mydumper
- mysqlpump
- 可用来跨平台迁移
- 逻辑备份不备份索引数据，所以占用会比物理备份小很多

 

# 逻辑备份：以文本数据可见(SQL，导出)，可以生成SQL导入到数据库。

用途：

- 跨平台迁移
- 平台间数据传输
- MySQL跨版本升级
- 数据库异构迁移
- 部分数据备份
- 数据容灾备份

 

# 逻辑备份最容易出错的地方是字符集。

- 可以用file命令检查备份文件的字符集。
- 也可以使用iconv命令转换字符集，反正都是文本格式。

 

# 逻辑备份的方式

|          | mysqldump                  | mysqlpump                                                    | mydumper                     |
| -------- | -------------------------- | ------------------------------------------------------------ | ---------------------------- |
|          | 官方                       | 官方，MySQL5.7后出现                                         | 社区开源产品                 |
| 特点     | 单进程导出、导入，功能单一 | 可以并行导出schema、table，和MySQL特性结合比较好，功能最丰富 | 支持并行导入、导出，功能单一 |
| 使用场景 | 简单易上手                 | 建议用mysqlpump替代mysqldump                                 | 单纯的数据备份极度推荐       |



 注意事项

- 建议只备份需要的库，不备份四大库
- mysqlpump的并行，最小细粒度是表级别，备份完成的时间可能是超级大婊的完成时间，mydumper可以按chunk对大表进行并行备份
- 对于新特性利用上，mysqlpump较好，备份速度上mydumper较好，稳定性和兼容性上mysqldump较好