> 最近整理一份关于Redis常见面试题的，也会根据自己的经验， 标注一些出现的概率，最高5颗★出现的概率最高。比如这样:
>
> Redis 最适合的场景, 可以简单的说说吗?
> 出现概率: ★★★★
>
>  
>
> 整体目录大概如下:
>
> ### 目录
>
> - 一、Redis基础知识
>
>   - 1、什么是 Redis, 有哪些优缺点?
>
>     > 单线程高性能；缓存和DB一致性问题；缓存击穿；缓存雪崩；缓存高并发的争用；
>
>   - 2、Redis 最适合的场景, 可以简单的说说吗?
>
>     > 投票点赞（计数器）、消息队列、缓存会话
>
>   - 3、Redis 相比 Memcached 有哪些优势？
>
>     > mc的value只支持string，redis支持 字符串、哈希、列表、集合和有序集合类型；
>     >
>     > redis速度更快
>     >
>     > redis支持持久化
>
>   - 4、一个字符串类型的值能存储最大容量是多少？
>
>     > 一个字符串类型最大容量是512M
>
>   - 5、Redis 读写分离
>
>     > 单机情况下redis能承受大约2万的QPS，如果想要承接更高数值的QPS（10万以上），则需要用到读写分离的redis集群。
>     >
>     > 对于缓存而言，读的需求量是远大于写的需求量的，而读写分离的机制就是在主机上执行写操作，然后异步地将数据复制到从机上，而从机只负责读操作
>     >
>     > 通过从库的水平扩展，实现并发响应的扩展。
>
> - 二、数据结构
>
>   - 1、Redis的数据类型有哪些?
>
>     > 字符串 列表 哈希 集合 有序集合
>
>   - 2、说说 Redis 哈希槽的概念？
>
>     > redis集群没有使用一致性hash。
>     >
>     > 哈希槽非常便于集群的节点增减，只需要将哈希槽迁移过去即可。
>     >
>     > redis cluster 集群有16384个哈希槽，相当于有16384个数据分片，均匀的或者按照手动配置规则分散到集群的所有实例中。每个实例最初只知道自己所被分配的哈希槽信息，通过实例间通信最终所有实例都存有完整的哈希槽分配表。客户端连接集群后也会获得一份哈希槽分配表并缓存到本地，操作数据时客户端会先对数据键取模计算，并对照本地的哈希槽分配表找到需要请求的实例地址。
>
>   - 3、Hash如何实现O(1)的查询和设置速度, 以及扩容原理
>
>     > 计算哈希后直接去对应的哈希桶查找数据。
>
>   - 4、布隆过滤器
>
> - 三、事务
>
>   - 1、怎么理解 Redis 事务？
>   - 2、Redis事务执行过程
>   - 3、Redis事务的一些使用场景
>   - 4、Redis事务与Redis pipeline的区别
>   - 5、集群模式下Redis事务如何保证原子性
>
> - 四、Redis数据持久化
>
>   - 1、为什么 Redis 需要把所有数据放到内存中？
>   - 2、Redis如何做持久化的？
>   - 3、Redis key 的过期时间和永久有效分别怎么设置？
>
> - 五、Redis集群
>
>   - 1、Redis 是单进程单线程的？
>
>   - 2、是否使用过 Redis 集群，集群的原理是什么？
>
>   - 3、可以简单说说你对Redis Sentinel的理解
>
>     > 哨兵负责监控、选主和通知，通过哨兵集群来监控主从复制
>
>   - 4、Redis Sentinal和Redis Cluster的区别
>
>     > 哨兵模式是高可用+守护程序，数据量高了之后很难水平扩展；分片集群是分片后高可用。cluster适合大数据量，并且能够灵活的水平扩展，提升性能。
>
>   - 5、Redis 的同步机制了解么？
>
>     > redis启动后会生成随机的RID，主节点每次有数据写入，都会在offset上增加当前写入的字节长度。
>     >
>     > 从通过offset对比便知道自己需要同步多少数据，
>     >
>     > 主库发生数据变化时，数据变化会先写入复制缓冲区，从库读取的offset也会记录到主库的环形缓冲区中。
>
>   - 6、Redis 集群最大节点个数是多少？
>
>     > 16384个。
>
> - 六、Redis淘汰策略
>
>   - 1、Redis过期键的删除策略？
>
>     > 被动删除：请求的数据时，该数据存在且过期，返回nil并删除该数据缓存。
>     >
>     > 周期性自动删除：周期性随机选择一定数量的有失效设定的数据，删除失效数据并计算失效数据占比，超过25%继续循环，否则进行下一个db的扫描。
>     >
>     > 强制删除：当redis使用内存量达到上限时，会触发强制删除机制，包括但不限于使用LRU或LFU算法清理过期key、设置过期的key、全部key，或者随机清理设置过期的key或全部key，或者清理生存时间少的key，或者不执行清理，拒绝新的写入。
>
>   - 2、你可以简单聊聊Redis内存淘汰机制(回收策略)
>
>     > LRU\LFU\TTL\Random 删除设置了过期的key、全部key，或不清理。
>
> - 七、Redis分布式锁
>
>   - 1、你知道实现实现分布式锁有哪些方案?
>
> - 八、Redis缓存问题
>
>   - 1、Redis缓存雪崩
>   - 2、Redis缓存击穿
>   - 3、Redis缓存穿透
>   - 4、缓存预热
>   - 5、缓存降级
>
>   > - 1、Redis缓存雪崩
>   >
>   >   缓存大面积失效，或缓存宕机。恰巧大量请求来临，请求不到缓存数据，对后面DB造成极高的查询请求，导致DB宕机，且拉起后由于高流量，继续宕机。
>   >
>   >   
>   >
>   > - 2、Redis缓存击穿
>   >
>   >   热点数据过期失效导致对DB造成极高压力。
>   >
>   >   
>   >
>   > - 3、Redis缓存穿透
>   >
>   >   请求的数据既不在redis，也不在DB中，请求时先查询缓存再访问数据库。因为数据不存在因此也无法缓存，如果大量类似请求，会同时对redis和db造成极大压力。
>   >
>   >   
>   >
>   > - 4、缓存预热
>   >
>   >   提前将相关的缓存直接加载，避免在请求时再去查询数据库以缓存信息。
>   >
>   >   
>   >
>   > - 5、缓存降级
>   >
>   >   缓存失效或缓存宕机时，响应请求不再去访问数据库查询，而是返回默认数据或内存中数据。
>   >
>   > 针对缓存雪崩，合理地设置数据过期时间，以及搭建高可靠缓存集群；
>   >
>   > 针对缓存击穿，在缓存访问非常频繁的热点数据时，不要设置过期时间；
>   >
>   > 针对缓存穿透，提前在入口前端实现恶意请求检测，或者规范数据库的数据删除操作，避免误删除。
>
> - 九、运维和部署
>
>   - 1、Redis 如何设置密码及验证密码？
>   - 2、Redis 如何做内存优化？
>
> *
>
> *
>
>  
>
> 一般来讲在面试当中， 关于Redis相关的面试题频率出现比较高的几个关键词是适合哪些场景、数据结构、hash实现原理和如何扩容、如何做持久化、关系型数据库和非关系数据库对比等等。 把这几个点问完基本也差不多10~20分钟了(一般一轮面试1小时左右), 基本这些可以让面试官对你的Redis知识有一定的了解了。