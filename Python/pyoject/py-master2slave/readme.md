# py-master2slave
- for MySQL.
- 实现主备切换的小工具
- 工具功能： 
    - 输入一个mysql地址、端口、用户名密码以后，获取到该实例的master节点信息（如果有）或slave节点信息（如果有）
    - 执行主从切换操作：判断所有slave的存活情况之后，再判断延迟最低的slave，将它设置为新的master
    - 将原master作为slave加入复制。
        - 回滚逻辑先不考虑。
        - 重建原master的也先不考虑。
    - 如果多个slave延迟一致，判断优先级：IP地址、？？、？？（待补充和思考）
    - 每次执行主从切换操作，会记录下切换发起时间，原master、新master信息，完成切换时间等信息的记录。
- begin 2022-02-28